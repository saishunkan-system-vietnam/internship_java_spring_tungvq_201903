<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssv.template.data.mapper.BuildingMapper">
	<insert id="insertBuilding" parameterType="Building" >
        INSERT INTO Building (NAME, AREA, FLOOR) VALUES (#{name},#{area},#{floor});
    </insert>
    
    <insert id="insertBuilding1" parameterType="Building" >
        INSERT INTO Building (NAME, AREA, FLOOR) VALUES (#{name},#{area},#{floor});
    </insert>
 
    <update id="updateBuilding" parameterType="Building">
        UPDATE Building SET NAME = #{name} WHERE ID = #{id};
        UPDATE Building SET AREA = #{area} WHERE ID = #{id};
        UPDATE Building SET FLOOR = #{floor} WHERE ID = #{id};
    </update>
     
    <delete id="deleteBuildingById" parameterType="int">
        DELETE from Building WHERE ID = #{id};
    </delete>
    
    <select id="selectBuildingById" parameterType="int">
    	SELECT * FROM Building WHERE ID = #{id};
    </select>
    
    <resultMap id = "result" type = "Building"></resultMap>
    <select id="findByParam" parameterType="string" resultMap="result">
    	SELECT * FROM Building WHERE name like '%'||#{name}||'%'
    	<if test="arfrom != null and arfrom != '' ">
  		AND area BETWEEN #{arfrom}::double precision AND #{arto}::double precision
  		</if>
  		<if test="floorfrom != null and floorfrom != '' ">
  		AND floor BETWEEN #{floorfrom}::int AND #{floorto}::int
  		</if>
    </select>
     
</mapper>
